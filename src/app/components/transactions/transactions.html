<div class="transactions-container">
  <div class="header">
    <button class="back-button" (click)="goBack()">
      <i class="fas fa-arrow-left"></i>
      <span>Geri Dön</span>
    </button>
    <h2>Hesap Hareketleri</h2>
  </div>

  <div class="loading" *ngIf="loading">
    <i class="fas fa-spinner fa-spin"></i>
    <span>Yükleniyor...</span>
  </div>

  <div class="error-message" *ngIf="error">
    <i class="fas fa-exclamation-circle"></i>
    <span>{{ error }}</span>
  </div>

  <div class="transactions-list" *ngIf="!loading && !error && transactions.length > 0">
    <div class="transaction-item" *ngFor="let transaction of transactions" [class]="getTransactionType(transaction)">
      <div class="transaction-header">
        <div class="transaction-icon">
          <i [class]="getTransactionIcon(transaction)"></i>
        </div>
        <div class="platform-info">
          <span class="platform-name">{{ transaction.digitalPlatformName }}</span>
          <span class="subscription-plan" *ngIf="transaction.subscriptionPlanName">{{ transaction.subscriptionPlanName }}</span>
          <span class="category-label">{{ getCategoryLabel(transaction.addBalanceCategory) }}</span>
        </div>
        <div class="amount" [class]="getTransactionType(transaction)">
          <span *ngIf="getTransactionType(transaction) === 'income'">+</span>
          <span *ngIf="getTransactionType(transaction) === 'expense'">-</span>
          {{ transaction.amount | number:'1.2-2' }} ₺
        </div>
      </div>
      <div class="transaction-footer">
        <span class="date">{{ transaction.paymentDate | date:'dd.MM.yyyy HH:mm' }}</span>
      </div>
    </div>
  </div>

  <div class="no-transactions" *ngIf="!loading && !error && transactions.length === 0">
    <i class="fas fa-receipt"></i>
    <p>Henüz işlem bulunmamaktadır.</p>
  </div>
</div> 