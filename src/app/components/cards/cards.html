<div class="cards-container">
  <div class="card-wrapper" *ngIf="cards.length > 0">
    <button class="nav-button prev" (click)="previousCard()" *ngIf="currentCardIndex > 0">
      <i class="fas fa-chevron-left"></i>
    </button>

    <div class="credit-card">
      <div class="card-chip">
        <i class="fas fa-microchip"></i>
      </div>
      <div class="card-number">
        {{ cards[currentCardIndex].cardNo | slice:0:4 }} {{ cards[currentCardIndex].cardNo | slice:4:8 }} 
        {{ cards[currentCardIndex].cardNo | slice:8:12 }} {{ cards[currentCardIndex].cardNo | slice:12:16 }}
      </div>
      <div class="card-info">
        <div class="valid-thru">
          <span>Valid Thru</span>
          <span>{{ cards[currentCardIndex].validDate }}</span>
        </div>
        <div class="card-holder">
          <span>Card Holder</span>
          <span>{{ cards[currentCardIndex].nameOnCard }}</span>
        </div>
      </div>
      <div class="balance">
        <span>Balance</span>
        <span>₺{{ cards[currentCardIndex].balance | number:'1.2-2' }}</span>
      </div>
      <div class="card-brand">
        <i class="fab fa-cc-mastercard"></i>
      </div>
    </div>

    <button class="nav-button next" (click)="nextCard()" *ngIf="currentCardIndex < cards.length - 1">
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>

  <div class="card-actions" *ngIf="cards.length > 0">
    <button class="action-button add-balance" (click)="addBalance()">
      <i class="fas fa-plus-circle"></i>
      Bakiye Yükle
    </button>
    <button class="action-button transactions" (click)="viewTransactions(cards[currentCardIndex].cardId)">
      <i class="fas fa-history"></i>
      Hesap Hareketleri
    </button>
    <button class="action-button remove" (click)="removeCard(cards[currentCardIndex].cardId)">
      <i class="fas fa-trash-alt"></i>
      Kartı Kaldır
    </button>
  </div>

  <div class="card-pagination" *ngIf="cards.length > 1">
    <span *ngFor="let card of cards; let i = index" 
          class="page-dot" 
          [class.active]="i === currentCardIndex"
          (click)="currentCardIndex = i">
    </span>
  </div>

  <div class="no-cards" *ngIf="cards.length === 0">
    <i class="fas fa-credit-card"></i>
    <p>Henüz kayıtlı kartınız bulunmamaktadır.</p>
  </div>
</div> 